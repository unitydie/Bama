:root{
  --card-w: 340px;
  --arrow-gap: 64px;
}

*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
  font-family:Arial, sans-serif;
  color:#fff;
  background: radial-gradient(1200px 600px at 50% -10%, #bfe3b8 0%, #8dc17d 30%, #4a7c2c 65%, #2d5016 100%);
  background-attachment: fixed;
  overflow-x:hidden;
}

/* Sidebar */
.sidebar{
  position:fixed; inset:0 auto 0 -100%;
  width:100%; max-width:360px; height:100%;
  background: linear-gradient(180deg, #2d5016 0%, #4a7c2c 50%, #a8d5a3 100%);
  color:#fff; z-index:1000; transition:left .3s ease; padding:20px;
  box-shadow: 6px 0 30px rgba(0,0,0,.25);
}
.sidebar.active{ left:0 }
.close-btn{background:none;border:0;color:#fff;font-size:36px;cursor:pointer;line-height:1}
.search-container{position:relative;margin:18px 0 24px}
.search-input{width:100%;padding:10px 36px 10px 0;background:transparent;border:none;border-bottom:2px solid #fff;color:#fff}
.search-input::placeholder{color:#e8f5e9}
.search-btn{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:0;color:#fff;cursor:pointer}
.sidebar-nav{display:flex;flex-direction:column;gap:12px;margin-top:16px}
.nav-item{color:#fff;text-decoration:none;font-weight:700;font-size:18px}
.sidebar-divider{height:1px;background:#ffffff40;margin:16px 0}
.sidebar-links{display:flex;flex-direction:column;gap:8px}
.sidebar-links a{color:#e8f5e9}

/* Header & Hero */
.header{display:flex;align-items:center;justify-content:center;padding:14px 16px;position:relative}
.menu-btn{position:absolute;left:12px;background:none;border:0;color:#fff;cursor:pointer}
.logo{position:absolute;top:6px;left:50%;transform:translateX(-50%)}
.hero{text-align:center;padding:24px 12px}
.hero h1{font-size:40px;margin:8px 0;text-shadow:0 3px 8px rgba(0,0,0,.35)}

/* 3D Carousel */
.carousel-3d-section{padding:28px 12px 46px}
.carousel-viewport{
  position:relative;
  perspective:1400px;
  perspective-origin:50% 42%;
  max-width:1000px;
  height:560px;
  margin:0 auto;
  overflow:visible;
}
.carousel-3d{
  width:100%; height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform 800ms cubic-bezier(.2,.7,.2,1);
}

.card{
  position:absolute; top:50%; left:50%;
  transform:translate(-50%,-50%);
  width:var(--card-w); height:430px;
  background:transparent;
  border-radius:18px; overflow:visible;
  backface-visibility:hidden; -webkit-backface-visibility:hidden;
  transition:opacity .35s, filter .35s;
  z-index:1;
}
.card-inner{display:flex;flex-direction:column;align-items:center;height:100%;padding:16px 16px 0;background:transparent;border-radius:20px}
.imgbox{width:100%; height:260px; display:flex; align-items:center; justify-content:center}
.imgbox img{max-width:100%; max-height:100%; object-fit:contain; filter: drop-shadow(0 14px 26px rgba(0,0,0,.40));}
.card h3{color:#fff;margin:10px 0 6px;font-size:18px;text-align:center}
.card p{color:#e9f6e8;opacity:.9;margin-bottom:12px;font-size:14px;text-align:center}

/* Show text/button only for active */
.card h3,.card p,.card .order-btn{transition:opacity .35s ease, transform .35s ease, visibility .35s}
.card:not(.active) h3,.card:not(.active) p,.card:not(.active) .order-btn{opacity:0;transform:translateY(8px) scale(.98);pointer-events:none;visibility:hidden}
.card.active h3,.card.active p,.card.active .order-btn{opacity:1;transform:none;visibility:visible;pointer-events:auto}

/* Depth */
.card.active{filter: drop-shadow(0 20px 44px rgba(0,0,0,.55)); z-index:3; opacity:1}
.card:not(.active){opacity:.85; z-index:1}

/* Order button */
.order-btn{
  margin-top:auto;
  background:#7cb342;color:#fff;border:0;border-radius:10px;
  padding:10px 18px;font-weight:700;cursor:pointer;
  box-shadow:0 8px 18px rgba(0,0,0,.25);
}
.order-btn:hover{background:#689f38}

/* Arrows (symmetrical from center) */
.nav3d{
  position:absolute;
  top:calc(50% + 40px);
  left:50%;
  width:56px; height:56px; border-radius:50%;
  border:0; background:#7cb342; color:#fff; font-size:26px; cursor:pointer;
  display:grid;place-items:center; box-shadow:0 10px 26px rgba(0,0,0,.35); z-index:4;
}
.prev3d{transform: translate(calc(-50% - (var(--card-w)/2) - var(--arrow-gap)), -50%);}
.next3d{transform: translate(calc(-50% + (var(--card-w)/2) + var(--arrow-gap)), -50%);}
.nav3d:hover{background:#7fbf45}

/* Hide dots (not used) */
.dots3d{display:none !important}

/* Modal (2-column w/ GIF & typing) */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:2000;align-items:center;justify-content:center;padding:16px}
.modal.active{display:flex}
.modal-content{
  background:#fff; color:#1a1a1a; border-radius:12px;
  max-width:980px; width:100%; padding:20px 22px; position:relative;
  box-shadow:0 16px 48px rgba(0,0,0,.35);
}
.modal-content h2{color:#2d5016;margin-bottom:14px}
.modal-close{position:absolute;right:12px;top:8px;background:none;border:0;font-size:28px;color:#666;cursor:pointer}

.modal-body{display:grid; grid-template-columns:1fr 1.4fr; gap:20px}
.pour-frame{
  background:linear-gradient(180deg,#f6fff2,#eef7e9);
  border:1px solid #e8efe3; border-radius:14px; aspect-ratio:4/5;
  display:flex; align-items:center; justify-content:center; overflow:hidden;
  box-shadow: inset 0 0 24px rgba(0,0,0,.06);
}
#pour-gif{width:100%; height:100%; object-fit:cover; display:block}
.pour-caption{text-align:center; margin-top:8px; color:#2d5016}

.info-pane{display:flex; flex-direction:column; gap:14px}
.typed-wrap{min-height:56px; padding:12px 14px; background:#f7faf6; border:1px solid #e6efe2; border-radius:10px}
.typed-line{font-size:15px; line-height:1.5; color:#2b3b28; white-space:pre-wrap}

.form-group{margin-bottom:14px}
.form-group label{display:block;font-weight:700;margin-bottom:6px;color:#1a1a1a}
.form-group input,.form-group textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:16px;color:#1a1a1a}
.form-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
.modal .btn-primary{background:#7cb342;color:#fff;border:0;padding:10px 18px;border-radius:8px;font-weight:700;cursor:pointer}
.modal .btn-primary:hover{background:#689f38}
.modal .btn-secondary{background:#e0e0e0;color:#333;border:0;padding:10px 18px;border-radius:8px;cursor:pointer}

@media (max-width:768px){
  :root{ --card-w: 300px; --arrow-gap: 24px; }
  .carousel-viewport{height:520px}
  .imgbox{height:230px}
  .nav3d{width:48px; height:48px; font-size:22px; top:calc(50% + 28px)}
}
@media (max-width:800px){
  .modal-body{grid-template-columns:1fr}
  .pour-frame{aspect-ratio:16/9}
}

/* Floating quick order */
.floating-order{
  position:fixed; right:20px; bottom:20px; width:280px; z-index:1500;
  background:#fff; color:#1a1a1a; border-radius:12px; box-shadow:0 12px 30px rgba(0,0,0,.25); overflow:hidden;
}
.floating-header{background:#7cb342;color:#fff;font-weight:700;padding:10px 12px;display:flex;justify-content:space-between;align-items:center;cursor:pointer}
#floating-order-form{padding:12px;display:flex;flex-direction:column;gap:8px}
#floating-order-form input,#floating-order-form textarea{border:1px solid #ddd;border-radius:8px;padding:8px}
.floating-submit{background:#7cb342;color:#fff;border:0;padding:10px;border-radius:8px;font-weight:700;cursor:pointer}
.floating-order.collapsed{height:44px}
.floating-order.collapsed #floating-order-form{display:none}
